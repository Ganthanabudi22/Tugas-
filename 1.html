<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        table, th, td {
                text-align:center;
                border:5px solid black;
                border-collapse:collapse;
                padding:10px;
                margin: 50px;
        }
            </style>
</head>

<body>
    <center>
        <table>
            <thead>
                <tr>
                    <th>Nama</th>
                    <th>Usia</th>
                    <th>Pekerjaan</th>
                    <th>Picture</th>
                    <th></th>
                </tr>
            </thead>
            <tbody id='isiTable'>
            </tbody>
            <tfoot>
                <tr>
                    <td><input type="text" placeholder="Nama"> </td>
                    <td><input type="text" placeholder="Usia"> </td>
                    <td><input type="text" placeholder="Pekerjaan"> </td>
                    <td><input type="text" placeholder="Link Picture"> </td>
                    <td><input type="button" onclick="tambahData()" value="Add"> </td>
                </tr>
            </tfoot>

        </table>
        <table>
            <tr>
                <td><input type="text" placeholder="Filter By Name"style="padding:2px" ></td>
                <td><input type="button" onclick="filter()" value="filter"> </td>
            </tr>
        </table>
        <h1></h1>
    </center>
    <script>
        var data = []
        class Orang {
            constructor(nama, usia, pekerjaan, link) {
                this.nama = nama;
                this.umur = usia;
                this.pekerjaan = pekerjaan;
                this.link = link



            }

        }

        function tambahData() {
            var selektor = document.getElementsByTagName('input')
            var nama = selektor[0].value
            var usia = selektor[1].value
            var pekerjaan = selektor[2].value
            var link = selektor[3].value
            if (nama == '' || usia == '' || pekerjaan == '' || link == '') {
                document.getElementsByTagName('h1')[0].style.color = 'red'
                document.getElementsByTagName('h1')[0].innerHTML = 'Harus Diisi'
            } else {
                document.getElementsByTagName('h1')[0].innerHTML = ''
                var newMan = new Orang(nama, usia, pekerjaan, link)
                data.push(newMan)
                tampilData(data)
                for (i = 0; i < 4; i++) {
                    selektor[i].value = ''
                }
                
                // document.getElementsByTagName('h1')[0].innerHTML = ''
                // document.getElementById('isiTable').innerHTML +=
                //     `<tr>
                //                                                                 <td>${nama}</td>
                //                                                                 <td>${usia}</td>
                //                                                                 <td>${pekerjaan}</td>
                //                                                                 <td><img src=${link} width50px></td>
                //                                                                 <td><button>edit</button></td>
                //                                                                 </tr>`

                

            
            }
            function tampilData(a){
                    
                    var tampil = ''
                for (var i = 0; i < a.length; i++) {
                    tampil +=
                        `<tr>
                              <td>${a[i].nama}</td>
                              <td>${a[i].umur}</td>
                              <td>${a[i].pekerjaan}</td>
                              <td><img src=${a[i].link} width50px></td>
                              <td><button>edit</button></td>
                        </tr>`
                }
               
                document.getElementById('isiTable').innerHTML = tampil
                }

            function filter(){
                    var inputUser=document.getElementsByTagName('input')[5].value
                    var newData=[]
                    for(var i=0;i<data.length;i++){
                        if(data[i].nama.includes(inputUser)){
                            newData.push(data[i].nama)
                        }
                    }
                    tampilData(newData)
                }





        }
    </script>
</body>

</html>
<!--  -->